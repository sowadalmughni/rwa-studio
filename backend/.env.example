# RWA-Studio Backend Configuration
# Copy this file to .env and update values for your environment
#
# SECURITY: Never commit .env to version control!
# Generate secrets with: python -c "import secrets; print(secrets.token_hex(32))"

# ============================================
# CRITICAL SECURITY SETTINGS (Required)
# ============================================

# Flask secret key - MUST be changed in production
# Minimum 32 characters, no common words/placeholders
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=

# JWT secret key - MUST be different from SECRET_KEY in production
# Minimum 32 characters, no common words/placeholders
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET_KEY=

# ============================================
# ENVIRONMENT (IMPORTANT FOR SECURITY)
# ============================================

# Environment (development, staging, production)
# PRODUCTION MODE: Enables strict secret validation, tighter CSP
FLASK_ENV=development

# Debug mode - MUST be False in production
FLASK_DEBUG=True

# Server host and port
HOST=0.0.0.0
PORT=5000

# ============================================
# DATABASE CONFIGURATION
# ============================================

# SQLite (default for development)
DATABASE_URL=sqlite:///database/app.db

# PostgreSQL (recommended for production)
# DATABASE_URL=postgresql://user:password@localhost:5432/rwa_studio

# ============================================
# JWT CONFIGURATION
# ============================================

# Access token expiration in hours
JWT_ACCESS_TOKEN_EXPIRES_HOURS=1

# Refresh token expiration in days
JWT_REFRESH_TOKEN_EXPIRES_DAYS=30

# ============================================
# CORS CONFIGURATION
# ============================================

# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# ============================================
# RATE LIMITING (Security)
# ============================================

# Rate limit storage - MUST use Redis in production for multi-instance support
# Development: memory://
# Production: redis://localhost:6379/0
RATELIMIT_STORAGE_URL=memory://

# Default rate limits (requests per minute)
RATELIMIT_DEFAULT=1000 per minute

# Auth endpoints - stricter limits to prevent brute force
RATELIMIT_AUTH=20 per minute

# Sensitive operations (password change, KYC start, payments)
RATELIMIT_SENSITIVE=5 per minute

# Write operations (create/update/delete)
RATELIMIT_WRITE=30 per minute

# Read operations
RATELIMIT_READ=200 per minute

# Public endpoints (no auth required)
RATELIMIT_PUBLIC=60 per minute

# ============================================
# BLOCKCHAIN CONFIGURATION
# ============================================

# Default network (mainnet, sepolia, polygon, etc.)
DEFAULT_NETWORK=sepolia

# Ethereum RPC URL
ETHEREUM_RPC_URL=https://eth-sepolia.g.alchemy.com/v2/your-api-key

# Polygon RPC URL
POLYGON_RPC_URL=https://polygon-mainnet.g.alchemy.com/v2/your-api-key

# ============================================
# LOGGING CONFIGURATION
# ============================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log format (json, text)
LOG_FORMAT=json

# ============================================
# KYC PROVIDER (Onfido)
# ============================================
# Get credentials from https://dashboard.onfido.com

ONFIDO_API_TOKEN=
ONFIDO_WEBHOOK_SECRET=
ONFIDO_API_URL=https://api.onfido.com/v3.6
ONFIDO_REGION=us

# ============================================
# PAYMENT GATEWAY (Stripe)
# ============================================
# Get credentials from https://dashboard.stripe.com

STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# Stripe Price IDs for subscription plans
STRIPE_PRICE_STARTER=
STRIPE_PRICE_PROFESSIONAL=
STRIPE_PRICE_ENTERPRISE=

# ============================================
# EMAIL SERVICE (SendGrid)
# ============================================
# Get API key from https://app.sendgrid.com

SENDGRID_API_KEY=
EMAIL_FROM_ADDRESS=noreply@rwa-studio.com
EMAIL_FROM_NAME=RWA-Studio

# ============================================
# IPFS STORAGE (Pinata)
# ============================================
# Get credentials from https://app.pinata.cloud

PINATA_API_KEY=
PINATA_SECRET_KEY=
PINATA_JWT=
IPFS_GATEWAY_URL=https://gateway.pinata.cloud/ipfs

# ============================================
# CELERY (Async Tasks)
# ============================================

CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
